# 企业级Nodejs开发框架概览

### Main Target

+ 企业级项目对于Nodejs开发框架的要求
+ Node 如何由点到面支撑企业业务场景
+ 企业级Nodejs 基建



# 01. 企业级项目对于Nodejs开发框架的要求

### 企业级Nodejs有哪些使用场景

+ BFF层实现后端服务的数据聚合
+ 全栈开发前端基建项目：权限管理、监控、文档管理
+ SSR提升核心页面的用户体验



### 从企业的真实诉求出发

+ 是否有真实的需求
+ 是否存在造轮子
+ 是否可以顺利落地
+ 是否可以用数据呈现价值



### 自建Nodejs 框架

+ **强类型**
  + 可以将问题提前在开发阶段暴露，丰富的代码提示
+ **依赖注入**
  + 便捷的依赖注入
+ 方便调试
  + 希望开发阶段能够轻松调试接口，支持swagger 这样的文档工具
+ 模块划分
  + 结合前端的模块性。我们得服务端也希望是模块化的组装模式
+ 丰富的生态
  + 既有第三方的可以用，同时自研插件也需要比较方便
+ 完整性一站式
  + 希望框架能够帮助大部分同学一站式解决开发问题，减少第三方选型困扰



### 企业框架在维护中有哪些问题

+ 项目参与者多，对版本迭代要求高，容易产生技术包袱
+ 对接已有的技术基建，存在谁向谁看齐的问题
+ 使用放对框架稳定性、性能追踪、错误追踪都有很高的要求

+ 存在各种特殊的使用场景，需要特性化开发支持
+ 代码腐化速度快，底层模块依赖更新频繁
+ 每个团队一个轮子



### 解决方案

+ 设计先行，对齐规范最重要，约定大于配置（比如说egg）
+ 自建npm 源，规范发包，避免重复轮子和代码腐化
+ 需要提供插件开发规范，支持外部拓展解决特殊需求
+ 引入错误、性能等解决方案
+ 提供健全的文档和开发模板，便于快速启动
+ 简历通畅的反馈机制，定时复盘，沉淀最佳实践
+ 配合CI/CD流程，解决编码以外的问题



## 02. 由点到面支撑企业业务场景

#### 业务模块



#### 业务场景BFF



#### 多模块聚合为工作台

点 --> 面 --> 立体

业务组件 --> 业务模块 --> 工作台





## 03. 企业级Nodejs基建

### 日志管理

+ 收集应用日志
+ 清洗日志内容，聚合日志信息
+ 提供管理平台可视化查看
+ 提供日志查询API



### 分布式链路跟踪



### 配置中心

+ 用户在配置中心对配置进行修改并发布
+ 配置中心通知Apollo客户端有配置更新
+ Apollo 客户端从配置中心拉去最新的配置、更新本地配置并通知到应用



### 服务监控



### 对接Serverless





### 最后小结

+ 要求
  + 企业应用中遇到的问题及解决方案
+ 场景
  + 实际生产中Nodejs发挥的作用
+ 基建
  + 简介Nodejs框架需要对接的基建



